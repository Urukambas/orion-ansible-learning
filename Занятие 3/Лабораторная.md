### Задание 1
Возьмите Playbook с прошлой лабораторной и разбейте его на несколько playbook'ов:
1. basic.yaml
2. web.yaml
3. db.yaml
Playbook web.yaml дополнительно разбейте на Task-листы nginx.yaml и apache.yaml. Создайте условия, по которым nginx.yaml будет запускаться, если выбран `web_server: nginx` и apache.yaml, если выбран `web_server: apache`. Переместите переменную `web_server` из переменных инвентаря в переменные Playbook `main.yaml` или самой таски.
Разбейте базу данных на `database: mariadb-server` и `database: postgresql`.
У вас должна получиться следующая структура:
- Первый Playbook устанавливает базовые пакеты на все хосты;
- Второй Playbook устанавливает выбранный web-сервер, включая соответствующий tasklist
- Третий Playbook устанавливает нужную базу данных, включая соответствующий tasklist
Подсказка: чтобы база данных PostgreSQL запустилась, нужно инициировать БД, для этого используется команда `postgresql-setup initdb`. Воспользуйтесь модулем shell для инициализации ДБ

**Чуть сложнее: сделайте проверку на наличие файла `pg_hba.conf`, если файла нет — запустите инициализацию ДБ, если файл есть, то не запускайте инициализацию. Для проверки наличия файла используйте модуль `stat`**
**Ещё сложнее: вынесите переменные `web_server` и `database` в `vars_prompt` и подставьте значение по умолчанию.**

### Задание 2
Делигируйте `localhost` таску, которая добавит записи в `/etc/hosts` и проверку состояния сайта. Для проверки достаточно дёрнуть страничку по HTTP (примерно как сделать curl). Для этого можно использовать модуль `uri`, который позволяет отправить HTTP запрос на страницу. Таким образом, после настройки сайта, мы проверяем, что сайт действительно работает.
Если все настройки правильные, то таска с модулем `uri` должна успешно пройти проверку, получив http response 200.

### Задание 3
Дополните работу зашифровкой данных аутентификации Ansible, создайте файл с паролем Ansible Vault и настройте автоматическое его использования в `ansible.cfg`